<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Formulario Producto</title>
</head>

<body>
    <h1 th:text="${producto.id != null ? 'Editar Producto' : 'Nuevo Producto'}"></h1>

    <form th:action="@{/productos/guardar}" method="post" th:object="${producto}">
        <input type="hidden" th:field="*{id}" />

        <label>Nombre:</label>
        <input type="text" th:field="*{nombre}" required /><br />

        <label>Descripción:</label>
        <input type="text" th:field="*{descripcion}" required /><br />

        <label>Precio:</label>
        <input type="number" step="0.01" th:field="*{precio}" required /><br />

        <label>Stock:</label>
        <input type="number" th:field="*{stock}" required /><br />

        <label>Categoría:</label>

        <!-- <select th:field="*{categoria}" required>
        <option th:each="cat : ${categorias}" th:value="${cat}" th:text="${cat.nombre}"></option>
    </select><br/><br/>
-->
        <select th:field="*{categoria.id}" required>
            <option value="">-- Seleccionar categoría --</option>
            <option th:each="cat : ${categorias}" th:value="${cat.id}" th:text="${cat.nombre}"></option>
        </select>


        <button type="submit">Guardar</button>
    </form>

    <a th:href="@{/productos}">Volver</a>
</body>

</html>